<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="templates/template.xhtml">

    <ui:define name="title">
        Cadastro de Aluno
    </ui:define>

    <ui:define name="content">
        <style>
            .form-panel {
                max-width: 600px;
                margin: 0 auto;
                text-align: left;
                padding: 20px;
            }
            .form-group {
                margin-bottom: 15px;
            }
            .form-group label {
                display: block;
                margin-bottom: 5px;
            }
            .form-group input {
                width: 100%;
                padding: 8px;
                box-sizing: border-box;
            }
            .button-container {
                text-align: center;
                margin-top: 20px;
                margin-right: 10px;
            }
        </style>
        <h:form id="alunoCadastroForm">
            <p:messages id="messages" closable="true" />

            <!-- Formulário de cadastro e edição -->
            <p:panel header="#{alunoController.editar ? 'Editar Aluno' : 'Cadastro de Aluno'}" styleClass="form-panel">
                <div class="form-group">
                    <p:outputLabel for="prontuario" value="Prontuário:" />
                    <p:inputText id="prontuario" 
                                 value="#{alunoController.alunoParaCadastro.prontuario}" 
                                 required="true" 
                                 styleClass="form-control" 
                                 disabled="#{alunoController.editar}">
                        <f:validateRegex pattern="[A-Za-z]{2}[A-Za-z0-9]{0,7}" />
                    </p:inputText>
                </div>

                <div class="form-group">
                    <p:outputLabel for="email" value="Email:" />
                    <p:inputText id="email" 
                                 value="#{alunoController.alunoParaCadastro.email}" 
                                 required="true" 
                                 styleClass="form-control">
                        <f:validateRegex pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"  />
                    </p:inputText>
                </div>

                <div class="form-group">
                    <p:outputLabel for="nome" value="Nome:" />
                    <p:inputText id="nome" value="#{alunoController.alunoParaCadastro.nome}" required="true" styleClass="form-control" />
                </div>

                <div class="form-group">
                    <p:outputLabel for="senha" value="Senha:" />
                    <p:password id="senha" value="#{alunoController.alunoParaCadastro.senha}" required="true" styleClass="form-control" />
                </div>

                <div class="form-group">
                    <p:outputLabel for="cpf" value="CPF:" />
                    <p:inputMask id="cpf" value="#{alunoController.alunoParaCadastro.cpf}" 
                                 required="true" styleClass="form-control" mask="999.999.999-99" validatorMessage="CPF inválido"/>
                </div>

                <div class="form-group">
                    <p:outputLabel for="rg" value="RG:" />
                    <p:inputMask id="rg" value="#{alunoController.alunoParaCadastro.rg}" 
                                 required="true" styleClass="form-control" mask="99.999.999-9" validatorMessage="RG inválido"/>
                </div>

                <div class="form-group">
                    <p:outputLabel for="orgaoEmissor" value="Órgão Emissor:" />
                    <p:inputText id="orgaoEmissor" value="#{alunoController.alunoParaCadastro.orgaoEmissor}" required="true" styleClass="form-control" />
                </div>

                <div class="form-group">
                    <p:outputLabel for="semestre" value="Semestre:" />
                    <p:inputText id="semestre" value="#{alunoController.alunoParaCadastro.semestre}" required="true" styleClass="form-control" />
                </div>

                <div class="form-group">
                    <p:outputLabel for="celular" value="Celular:" />
                    <p:inputMask id="celular" value="#{alunoController.alunoParaCadastro.celular}" 
                                 required="true" styleClass="form-control" mask="(99)99999-9999" validatorMessage="Celular inválido"/>
                </div>

                <div class="form-group">
                    <p:outputLabel for="banco" value="Banco:" />
                    <p:inputText id="banco" value="#{alunoController.alunoParaCadastro.banco}" required="true" styleClass="form-control" />
                </div>

                <div class="form-group">
                    <p:outputLabel for="agencia" value="Agência:" />
                    <p:inputText id="agencia" value="#{alunoController.alunoParaCadastro.agencia}" required="true" styleClass="form-control" />
                </div>

                <div class="form-group">
                    <p:outputLabel for="contaCorrente" value="Conta Corrente:" />
                    <p:inputText id="contaCorrente" value="#{alunoController.alunoParaCadastro.contaCorrente}" required="true" styleClass="form-control" />
                </div>

                <div class="form-group">
                    <p:outputLabel for="turno" value="Turno:" />
                    <p:selectOneMenu id="turno" value="#{alunoController.alunoParaCadastro.turno}" >
                        <f:selectItems value="#{alunoController.tipo}" var="turno" itemValue="#{turno}" itemLabel="#{turno}" />
                    </p:selectOneMenu>
                </div>

                <div class="form-group">
                    <p:outputLabel for="idCurso" value="Curso:" />
                    <p:selectOneMenu id="idCurso" value="#{alunoController.alunoParaCadastro.idCurso}" converter="cursoConverter">
                        <f:selectItems value="#{cursoController.listaCurso}" var="curso" itemValue="#{curso}" itemLabel="#{curso.nomeCurso}" />
                    </p:selectOneMenu>
                </div>


                <div class="button-container">
                    <p:commandButton value="Salvar" action="#{alunoController.salvarAluno()}" update="@form" icon="pi pi-check" styleClass="ui-priority-primary" style="margin-right: 20px" />
                    <p:commandButton value="Cancelar" action="index?faces-redirect=true" icon="pi pi-times" styleClass="ui-priority-secondary" />
                </div>
            </p:panel>
        </h:form>
    </ui:define>
</ui:composition>


